---
title: "CVA: Item-RT"
subtitle: "gr2-5 public school sample"
author: "Yukie Toyama"
date: "2024-07-18"
output:
  html_document:
    toc: true
    toc_depth: 3
editor_options: 
  chunk_output_type: console
---

### Item-level response time

Boxplots below show the distribution of RT (in milliseconds) for the 81 CVA items from 888 students in grades 2-5 at public schools. X-axis are ordered by the median RT value, with the "previous" item being the shortest median RT (4,346.5 ms) while the "attitude" item the longest (7,957 ms).

```{r boxplot, echo=FALSE, results = "hide", message =FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(readr)
require(knitr)
require(kableExtra)
# rm(list = ls()) remove everything from the env

options(scipen=999)

df <- read_csv("data/grades-2-5/cva-trials-public-grade-2-5-2024-06-13.csv")
glimpse(df) # slightly different FormAndItemId
n_distinct(df$trialId)
n_distinct(df$runId) #888

# get_dupes(df, runId, trialId) no duplicated

p<- df %>% 
  ggplot(aes(x = reorder(decorated, rt, 
                         FUN = median), y=rt)) + 
  geom_boxplot(outlier.shape = NA)+ 
  coord_cartesian(ylim =  c(0, 25000)) + 
  ylab("RT (in ms)")+ xlab("decorated")

p+ theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) 

```

### Summary table for the item-level RT (in ms)

[Here](https://docs.google.com/spreadsheets/d/1kkljftIv-eD2JeiGPS9q977VAtaya74zk6MhBbqSlQo/edit?usp=sharing) is the item-stimuli map (with all 81 item-prompts and answer choices) to help interpret the RT summary stats in the table below. 

```{r sum.tbl, echo=FALSE, message =FALSE, fig.asp = 0.85, fig.width = 7, out.width = "98%"}

rt.sum.tbl <- df %>% group_by(decorated) %>% 
  summarise(n = n(),
            mean = mean(rt, na.rm = TRUE),
            sd = sd(rt, na.rm = TRUE),
            min = fivenum(rt)[1],
            Q1 = fivenum(rt)[2],
            median = fivenum(rt)[3],
            Q3 = fivenum(rt)[4],
            max = fivenum(rt)[5]) 
library(DT) 
datatable(rt.sum.tbl,
    rownames= FALSE) %>%
    formatRound(columns=c('mean', 
                          'sd',
                          'min',
                          'Q1',
                          'median',
                          'Q3',
                          'max'), digits=2)



```